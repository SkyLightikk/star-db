{"version":3,"sources":["components/error-indicator/death-star.png","components/header/index.js","components/header/header.js","components/spinner/index.js","components/spinner/spinner.js","services/swapi-service.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/random-planet/random-planet.js","components/random-planet/index.js","components/item-list/index.js","components/item-list/item-list.js","components/person-details/person-details.js","components/person-details/index.js","components/app/index.js","components/app/app.js","index.js"],"names":["module","exports","Header","className","href","Spinner","SwapiService","_apiBase","url","fetch","this","res","ok","Error","status","json","getResource","results","map","person","_transformPerson","id","planet","_transformPlanet","starship","_transformStarship","item","match","_extractId","name","population","rotationPeriod","rotation_period","diameter","model","manufacturer","costInCredits","length","crew","passengers","cargoCapacity","gender","birthYear","birth_year","eyeColor","eye_color","ErrorIndicator","src","icon","alt","RandomPlanet","swapiService","state","loading","error","onPlanetLoaded","setState","onError","err","updatePlanet","Math","floor","random","getPlanet","then","catch","interval","setInterval","clearInterval","hasData","errorMessage","spinner","content","Component","PlanetView","Fragment","ItemList","peopleList","getAllPeople","arr","key","onClick","props","onItemSelected","items","renderItems","PersonDetails","updatePerson","prevProps","prevState","personId","getPerson","App","showRandomPlanet","selectedPerson","onToggleRandomPlanet","onPersonSelected","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ed996efa.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import Header from './header';\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './header.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header d-flex\">\r\n      <h3>\r\n        {/* eslint-disable-next-line */}\r\n        <a href=\"#\">\r\n          StarDB\r\n        </a>\r\n      </h3>\r\n      <ul className=\"d-flex\">\r\n        <li>\r\n          {/* eslint-disable-next-line */}\r\n          <a href=\"#\">People</a>\r\n        </li>\r\n        <li>\r\n          {/* eslint-disable-next-line */}\r\n          <a href=\"#\">Planets</a>\r\n        </li>\r\n        <li>\r\n          {/* eslint-disable-next-line */}\r\n          <a href=\"#\">Starships</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import Spinner from './spinner';\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css\">\r\n      <div className=\"lds-double-ring\">\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","export default class SwapiService {\r\n\r\n  _apiBase = 'https://swapi.dev/api';\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`)\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  async getAllPeople() {\r\n    const res = await this.getResource(`/people/`);\r\n    return res.results.map((person) => this._transformPerson(person));\r\n  }\r\n\r\n  async getPerson(id) {\r\n    const person = await this.getResource(`/people/${id}/`);\r\n    return this._transformPerson(person);\r\n  }\r\n\r\n  async getAllPlanets() {\r\n    const res = await this.getResource(`/planets/`);\r\n    return res.results.map((planet) => this._transformPlanet(planet));\r\n  }\r\n\r\n  async getPlanet(id) {\r\n    const planet = await this.getResource(`/planets/${id}/`);\r\n    return this._transformPlanet(planet);\r\n  }\r\n\r\n  async getAllStarships() {\r\n    const res = await this.getResource(`/starships/`);\r\n    return res.results.map((starship) => this._transformStarship(starship));\r\n  }\r\n\r\n  async getStarship(id) {\r\n    const starship = this.getResource(`/starships/${id}/`);\r\n    return this._transformStarship(starship);\r\n  }\r\n\r\n  _extractId(item) {\r\n    const idRegExp = /\\/([0-9]*)\\/$/;\r\n    return item.url.match(idRegExp)[1];\r\n  }\r\n\r\n  _transformPlanet(planet) {\r\n    return {\r\n      id: this._extractId(planet),\r\n      name: planet.name,\r\n      population: planet.population,\r\n      rotationPeriod: planet.rotation_period,\r\n      diameter: planet.diameter\r\n    };\r\n  }\r\n\r\n  _transformStarship(starship) {\r\n    return {\r\n      id: this._extractId(starship),\r\n      name: starship.name,\r\n      model: starship.model,\r\n      manufacturer: starship.manufacturer,\r\n      costInCredits: starship.costInCredits,\r\n      length: starship.length,\r\n      crew: starship.crew,\r\n      passengers: starship.passengers,\r\n      cargoCapacity: starship.cargoCapacity\r\n    }\r\n  }\r\n\r\n  _transformPerson(person) {\r\n    return {\r\n      id: this._extractId(person),\r\n      name: person.name,\r\n      gender: person.gender,\r\n      birthYear: person.birth_year,\r\n      eyeColor: person.eye_color\r\n    }\r\n  }\r\n}\r\n","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\nimport './error-indicator.css';\r\nimport icon from './death-star.png';\r\n\r\nconst ErrorIndicator = () => {\r\n  return(\r\n    <div className=\"error-indicator\">\r\n      <img src={icon} alt=\"error icon\" />\r\n      <span className=\"boom\">BOOM!</span>\r\n      <span>\r\n        Что-то пошло не так\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;","import React, { Component } from 'react';\r\n\r\nimport Spinner from '../spinner';\r\nimport SwapiService from '../../services/swapi-service';\r\n\r\nimport './random-planet.css';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class RandomPlanet extends Component {\r\n\r\n  swapiService = new SwapiService();\r\n\r\n  state = {\r\n    planet: {},\r\n    loading: true,\r\n    error: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updatePlanet();\r\n    this.interval = setInterval(this.updatePlanet, 5000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  onPlanetLoaded = (planet) => {\r\n    this.setState({\r\n      planet,\r\n      loading: false\r\n    });\r\n  };\r\n\r\n  onError = (err) => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false\r\n    });\r\n  };\r\n\r\n  updatePlanet = () => {\r\n    const id = Math.floor(Math.random()*17) + 3; \r\n    this.swapiService\r\n      .getPlanet(id)\r\n      .then(this.onPlanetLoaded)\r\n      .catch(this.onError);\r\n  }\r\n\r\n  render() {\r\n    const { planet, loading, error } = this.state;\r\n\r\n    const hasData = !(loading || error);\r\n\r\n    const errorMessage = error ? <ErrorIndicator /> : null;\r\n    const spinner = loading ? <Spinner /> : null;\r\n    const content = hasData ? <PlanetView planet={planet}/> : null;\r\n\r\n    return (\r\n      <div className=\"random-planet jumbotron rounded\">\r\n        {errorMessage}\r\n        {spinner}\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst PlanetView = ({ planet }) => {\r\n\r\n  const { id, name, population,\r\n    rotationPeriod, diameter } = planet;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <img className=\"planet-image\"\r\n           src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`} alt=\"random planet\" />\r\n      <div>\r\n        <h4>{name}</h4>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Population</span>\r\n            <span>{population}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Rotation Period</span>\r\n            <span>{rotationPeriod}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Diameter</span>\r\n            <span>{diameter}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\n\r\n\r\n","import RandomPlanet from './random-planet';\r\n\r\nexport default RandomPlanet;\r\n","import ItemList from './item-list';\r\n\r\nexport default ItemList;\r\n","import React, { Component } from 'react';\r\nimport SwapiService from '../../services/swapi-service';\r\n\r\nimport './item-list.css';\r\nimport Spinner from '../spinner';\r\n\r\nexport default class ItemList extends Component {\r\n  swapiService = new SwapiService();\r\n\r\n  state = {\r\n    peopleList: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.swapiService\r\n      .getAllPeople()\r\n      .then((peopleList) => {\r\n        this.setState({\r\n          peopleList\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  renderItems(arr) {\r\n    return arr.map(({ id, name}) => {\r\n      return (\r\n        <li className=\"list-group-item\"\r\n            key={id}\r\n            onClick={() => this.props.onItemSelected(id)}>\r\n          {name}\r\n        </li>\r\n      );\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    const { peopleList } = this.state;\r\n\r\n    if (!peopleList) {\r\n      return <Spinner />\r\n    }\r\n\r\n    const items = this.renderItems(peopleList);\r\n    return (\r\n      <ul className=\"item-list list-group\">\r\n        {items}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport './person-details.css';\r\nimport SwapiService from '../../services/swapi-service';\r\nimport Spinner from '../spinner';\r\n\r\nexport default class PersonDetails extends Component {\r\n  swapiService = new SwapiService();\r\n\r\n  state = {\r\n    person: null,\r\n    loading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updatePerson();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.personId !== prevProps.personId) {\r\n      this.updatePerson();\r\n    }\r\n  }\r\n  \r\n  updatePerson() {\r\n    this.setState({loading: true});\r\n    const { personId } = this.props;\r\n    if (!personId) {\r\n      return;\r\n    }\r\n\r\n    this.swapiService\r\n      .getPerson(personId)\r\n      .then((person) => {\r\n        this.setState({ person, loading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.person) {\r\n      return <span>Выберите персонажа из списка</span>\r\n    };\r\n\r\n    const { person } = this.state;\r\n    const spinner = this.state.loading ? <Spinner /> : null;\r\n    const content = !spinner ? <PlanetView person={person}/> : null;\r\n\r\n    return (\r\n      <div className=\"person-details card\">\r\n        {spinner}\r\n        {content}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst PlanetView = ({person}) => {\r\n\r\n  const { id, name, gender, birthYear,eyeColor } = person;\r\n    return(\r\n      <React.Fragment>\r\n         <img className=\"person-image\"\r\n          src={`https://starwars-visualguide.com/assets/img/characters/${id}.jpg`}alt={name} />\r\n\r\n        <div className=\"card-body\">\r\n          <h4>{name}</h4>\r\n          <ul className=\"list-group list-group-flush\">\r\n            <li className=\"list-group-item\">\r\n              <span className=\"term\">Gender</span>\r\n              <span>{gender}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <span className=\"term\">Birth Year</span>\r\n              <span>{birthYear}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <span className=\"term\">Eye Color</span>\r\n              <span>{eyeColor}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n}\r\n","import PersonDetails from './person-details';\r\n\r\nexport default PersonDetails;\r\n","import App from './app';\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\n\r\nimport Header from '../header';\r\nimport RandomPlanet from '../random-planet';\r\nimport ItemList from '../item-list';\r\nimport PersonDetails from '../person-details';\r\n\r\nimport './app.css';\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    showRandomPlanet: true,\r\n    selectedPerson: null\r\n  };\r\n\r\n  onToggleRandomPlanet = () => {\r\n    this.setState((state) => {\r\n      return {\r\n        showRandomPlanet: !state.showRandomPlanet\r\n      }\r\n    });\r\n  };\r\n\r\n  onPersonSelected = (id) => {\r\n    this.setState( {\r\n      selectedPerson: id\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    const planet = this.state.showRandomPlanet ?\r\n    <RandomPlanet/> :\r\n    null;\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      {planet}\r\n      <button className=\"btn btn-warning mb-md-3\"\r\n              onClick={this.onToggleRandomPlanet}>\r\n                Toogle Random planet\r\n      </button>\r\n      <div className=\"row mb2\">\r\n        <div className=\"col-md-6\">\r\n          <ItemList onItemSelected={this.onPersonSelected}/>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          <PersonDetails personId = {this.state.selectedPerson}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );};\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root'));\r\n"],"sourceRoot":""}